import{u as m,r as c,j as s,d as r,a6 as x,a as h,t as u,ao as j,ap as p,a7 as o,a3 as b,a4 as f,c as g}from"./index-22564d29.js";import{p as v}from"./pluralize-d3f68cf8.js";import{k as d}from"./popover-af5c7c25.js";import{v as i,M as N,P as w}from"./disclosure-47be1803.js";import"./_commonjs-dynamic-modules-302442b1.js";function I(){const{errors:e}=m(),[n,t]=c.useState(!1),l=e.size>0;return s.jsx(d,{onMouseEnter:()=>{t(!0)},onMouseLeave:()=>{t(!1)},className:"flex",children:()=>s.jsxs(s.Fragment,{children:[s.jsx("span",{className:r("block ml-1 px-2 first-child:ml-0 rounded-full border whitespace-nowrap dark:text-neutral-100 text-xs text-center",l?"border-danger-500 text-danger-100 bg-danger-500 cursor-pointer":"border-neutral-500 cursor-default text-neutral-700"),children:l?s.jsxs("span",{children:[e.size," ",v("Error",e.size)]}):s.jsx("span",{children:"No Errors"})}),s.jsx(x,{show:n&&l,as:c.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",children:s.jsx(d.Panel,{className:r("absolute top-20 right-2 z-[1000] rounded-md bg-light transform overflow-hidden text-danger-700 shadow-2xl","w-[90vw] max-h-[80vh]"),children:s.jsx("ul",{className:r("w-full p-2 overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal","max-w-[90vw] max-h-[80vh]"),children:Array.from(e).reverse().map(a=>s.jsx("li",{className:"bg-danger-10 mb-4 last:m-0 p-2 rounded-md",children:s.jsx(y,{scope:a.key,error:a})},a.id))})})})]})})}function y({error:e,scope:n}){const{removeError:t}=m(),l=h(a=>a.version);return s.jsxs("div",{className:"flex flex-col w-full h-full",children:[s.jsxs("div",{className:"flex w-full h-full",children:[s.jsxs("div",{className:"w-[20rem]",children:[s.jsxs("div",{className:"flex aline-center mb-2",children:[s.jsx("small",{className:"block mr-3",children:s.jsx("small",{className:"py-0.5 px-2 bg-danger-500 text-danger-100 rounded-md text-xs",children:e.status??"UI"})}),s.jsx("small",{className:"block",children:n})]}),s.jsxs("div",{className:r("text-sm px-2"),children:[s.jsx("small",{className:"block text-xs font-mono",children:u(j(e.timestamp),"yyyy-mm-dd hh-mm-ss",!1)}),s.jsx("p",{children:e.message})]})]}),s.jsxs("div",{className:"w-full px-4",children:[p(l)&&s.jsxs("small",{className:"block",children:[s.jsx("b",{children:"Version"}),": ",l]}),e.type!=null&&s.jsxs("small",{className:"block",children:[s.jsx("b",{children:"Type"}),": ",e.type]}),e.origin!=null&&s.jsxs("small",{className:"block mb-2",children:[s.jsx("b",{children:"Origin"}),": ",e.origin]}),e.trigger!=null&&s.jsxs("small",{className:"block mb-2",children:[s.jsx("b",{children:"Trigger"}),": ",e.trigger]}),s.jsx(o,{className:"!border-danger-10"}),s.jsx("p",{className:"text-sm my-4",children:e.description})]})]}),e.traceback!=null&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"'w-full mb-4 mt-6",children:s.jsx(i,{children:({open:a})=>s.jsxs(s.Fragment,{children:[s.jsxs(i.Button,{className:r("flex items-center justify-between rounded-lg text-left w-full bg-neutral-10 px-3 mb-2"),children:[s.jsx("div",{className:"text-lg font-bold whitespace-nowrap w-full",children:s.jsx("h3",{className:"py-2",children:"Traceback"})}),s.jsx("div",{children:a?s.jsx(N,{className:"h-6 w-6 text-danger-500"}):s.jsx(w,{className:"h-6 w-6 text-danger-500"})})]}),s.jsx(i.Panel,{className:"px-2 pb-2 overflow-hidden",children:s.jsx("pre",{className:"font-mono w-full bg-dark-lighter text-danger-500 rounded-lg p-4 overflow-auto hover:scrollbar scrollbar--vertical scrollbar--horizontal max-h-[35vh] text-sm",children:s.jsx("code",{children:e.traceback??e.message})})})]})})}),s.jsx(o,{className:"!border-danger-10"})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(b,{variant:f.Neutral,size:g.sm,onClick:a=>{a.stopPropagation(),t(e)},children:"Dismiss"})})]})}export{y as DisplayError,I as default};
